"use strict";(self.webpackChunkframework=self.webpackChunkframework||[]).push([[783],{5783:(F,g,s)=>{s.r(g),s.d(g,{UserModule:()=>O});var u=s(9808),f=s(5020),l=s(3737),c=s(3075),t=s(5e3),h=s(5861),x=s(4677),_=s(5525),p=s(8179);let T=(()=>{class o{constructor(e){this._firestore=e}addData(e){var n=this;return(0,h.Z)(function*(){try{return e.id=(0,p.JU)((0,p.hJ)(n._firestore,"id")).id,yield(0,p.pl)((0,p.JU)(n._firestore,"Todo",e.id),e)}catch(i){return console.error("Error adding document: ",i),i}})()}getAllData(){let e=(0,p.hJ)(this._firestore,"Todo");return(0,x.BS)(e)}deleteData(e){let n=(0,p.JU)(this._firestore,`Todo/${e.id}`);return(0,_.oe)(n)}updateData(e,n){let i=(0,p.JU)(this._firestore,`Todo/${e.id}`);return(0,p.r7)(i,n)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.gg))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var k=s(9224),m=s(4106),v=s(7531),b=s(5245),C=s(7423);function Z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().addTask()}),t._uU(1,"add"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.task.invalid)}}function D(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().editTask()}),t._uU(1,"update"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.task.invalid)}}function J(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.pendingTask.length)}}function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t._uU(1),t.TgZ(2,"div",16)(3,"button",17),t.NdJ("click",function(){const d=t.CHM(e).index,a=t.oxw();return a.deleteTask(d,a.pendingTask)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA()(),t.TgZ(6,"button",18),t.NdJ("click",function(){const i=t.CHM(e),d=i.index,a=i.$implicit;return t.oxw().onEdit(d,a.description)}),t.TgZ(7,"mat-icon"),t._uU(8,"edit"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(1),t.hij("",e.description," ")}}function U(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.inProgress.length)}}function P(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t._uU(1),t.TgZ(2,"div",16)(3,"button",17),t.NdJ("click",function(){const d=t.CHM(e).index,a=t.oxw();return a.deleteTask(d,a.inProgress)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(1),t.hij("",e.description," ")}}function I(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.done.length)}}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t._uU(1),t.TgZ(2,"div",16)(3,"button",17),t.NdJ("click",function(){const d=t.CHM(e).index,a=t.oxw();return a.deleteTask(d,a.done)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA()(),t.TgZ(6,"button",19)(7,"mat-icon"),t._uU(8,"check_circle"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(1),t.hij("",e.description," ")}}const y=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class o{constructor(e){this.fireService=e,this.pendingTask=[],this.inProgress=[],this.done=[],this.task=new c.NI("",[c.kI.required]),this.isEditEnabled=!1}ngOnInit(){this.getData()}getData(){this.fireService.getAllData().subscribe(e=>{console.log(e),this.pendingTask=this.inProgress=this.done=[],e.forEach(n=>{0==n.status?this.pendingTask=[...this.pendingTask,n]:1==n.status?this.inProgress=[...this.inProgress,n]:this.done=[...this.done,n],console.log(this.pendingTask,this.inProgress,this.done)})})}addTask(){this.fireService.addData({id:"",description:this.task.value,status:0,done:!1}).then(e=>{console.log("added",e),this.getData(),this.task.reset()})}deleteTask(e,n){this.fireService.deleteData(n[e]).then(i=>{console.log("deleted",i),this.getData()}).catch(i=>{console.log(i)})}onEdit(e,n){this.task.setValue(n),this.updateIndex=e,this.isEditEnabled=!0}editTask(){this.isEditEnabled=!this.isEditEnabled;let e=this.pendingTask[this.updateIndex];e.description=this.task.value,this.fireService.updateData(this.pendingTask[this.updateIndex],e).then(n=>{console.log(n)}),this.task.reset(),this.updateIndex=void 0}editStatus(e,n){let i=e;console.log(i,n),i.status=n,this.fireService.updateData(e,i).then(d=>{console.log(d)})}drop(e){e.previousContainer===e.container?(0,l.bA)(e.container.data,e.previousIndex,e.currentIndex):((0,l.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),"cdk-drop-list-1"==e.container.id?(this.inProgress[e.currentIndex].status=1,this.editStatus(this.inProgress[e.currentIndex],1)):"cdk-drop-list-2"==e.container.id?(this.done[e.currentIndex].status=2,this.editStatus(this.done[e.currentIndex],2)):(this.pendingTask[e.currentIndex].status=0,this.editStatus(this.pendingTask[e.currentIndex],0))),console.log(this.pendingTask,this.inProgress,this.done)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:39,vars:12,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","placeholder","Placeholder","required","",3,"formControl"],["matSuffix",""],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["cdkDropListGroup",""],[1,"col-md-4"],[1,"example-container"],[1,"title"],[4,"ngIf"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag","",1,"example-box"],[1,"box"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"mat-card")(5,"form")(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"Task"),t.qZA(),t._UZ(9,"input",4),t.TgZ(10,"mat-icon",5),t._uU(11,"sentiment_very_satisfied"),t.qZA()(),t.YNc(12,Z,2,1,"button",6),t.YNc(13,D,2,1,"button",6),t.qZA()()()(),t.TgZ(14,"div",2)(15,"mat-card")(16,"div",7)(17,"div",1)(18,"div",8)(19,"div",9)(20,"h2",10),t._uU(21,"To do "),t.YNc(22,J,2,1,"span",11),t.qZA(),t.TgZ(23,"div",12),t.NdJ("cdkDropListDropped",function(d){return n.drop(d)}),t.YNc(24,H,9,1,"div",13),t.qZA()()(),t.TgZ(25,"div",8)(26,"div",9)(27,"h2",10),t._uU(28,"In Progress "),t.YNc(29,U,2,1,"span",11),t.qZA(),t.TgZ(30,"div",12),t.NdJ("cdkDropListDropped",function(d){return n.drop(d)}),t.YNc(31,P,6,1,"div",13),t.qZA()()(),t.TgZ(32,"div",8)(33,"div",9)(34,"h2",10),t._uU(35,"Done "),t.YNc(36,I,2,1,"span",11),t.qZA(),t.TgZ(37,"div",12),t.NdJ("cdkDropListDropped",function(d){return n.drop(d)}),t.YNc(38,M,9,1,"div",13),t.qZA()()()()()()()()()),2&e&&(t.xp6(9),t.Q6J("formControl",n.task),t.xp6(3),t.Q6J("ngIf",!n.isEditEnabled),t.xp6(1),t.Q6J("ngIf",n.isEditEnabled),t.xp6(9),t.Q6J("ngIf",n.pendingTask.length>0),t.xp6(1),t.Q6J("cdkDropListData",n.pendingTask),t.xp6(1),t.Q6J("ngForOf",n.pendingTask),t.xp6(5),t.Q6J("ngIf",n.inProgress.length>0),t.xp6(1),t.Q6J("cdkDropListData",n.inProgress),t.xp6(1),t.Q6J("ngForOf",n.inProgress),t.xp6(5),t.Q6J("ngIf",n.done.length>0),t.xp6(1),t.Q6J("cdkDropListData",n.done),t.xp6(1),t.Q6J("ngForOf",n.done))},directives:[k.a8,c._Y,c.JL,c.F,m.KE,m.hX,v.Nt,c.Fj,c.Q7,c.JJ,c.oH,b.Hw,m.R9,u.O5,C.lW,l.Fd,l.Wj,u.sg,l.Zt],styles:[".example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:50px;background:white;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#faebd7;padding:10px;margin:0;font-weight:600;font-size:2rem}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.box[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-column-gap:10px;column-gap:10px}"]}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(y)],f.Bz]}),o})();var E=s(4466);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,A,E.m]]}),o})()}}]);